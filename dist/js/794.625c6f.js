(self.webpackChunkvue2_element_admin=self.webpackChunkvue2_element_admin||[]).push([[794],{29173:function(e,t,i){var r=i(27583);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,i(45346).Z)("92339b44",r,!1,{})},74434:function(e,t,i){var r=i(78516);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,i(45346).Z)("16bf162e",r,!1,{})},98139:function(e,t,i){var r=i(18601);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,i(45346).Z)("8cb8859c",r,!1,{})},72768:function(e,t,i){var r=i(31185);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,i(45346).Z)("88acc816",r,!1,{})},27583:function(e,t,i){"use strict";i.r(t);var r=i(23645),n=i.n(r)()((function(e){return e[1]}));n.push([e.id,".scroll-container[data-v-be6b7bae]{position:relative;width:100%;overflow:hidden;white-space:nowrap}.scroll-container[data-v-be6b7bae]  .el-scrollbar__bar{bottom:0}.scroll-container[data-v-be6b7bae]  .el-scrollbar__wrap{height:49px}",""]),t.default=n},78516:function(e,t,i){"use strict";i.r(t);var r=i(23645),n=i.n(r)()((function(e){return e[1]}));n.push([e.id,'.tags-view-container[data-v-fac8ca64]{width:100%;height:34px;background:#fff;border-bottom:1px solid #d8dce5;-webkit-box-shadow:0 1px 3px 0 rgba(0,0,0,.12),0 0 3px 0 rgba(0,0,0,.04);box-shadow:0 1px 3px 0 rgba(0,0,0,.12),0 0 3px 0 rgba(0,0,0,.04)}.tags-view-container .tags-view-wrapper .tags-view-item[data-v-fac8ca64]{position:relative;display:inline-block;height:26px;padding:0 8px;margin-top:4px;margin-left:5px;font-size:12px;line-height:26px;color:#495060;cursor:pointer;background:#fff;border:1px solid #d8dce5}.tags-view-container .tags-view-wrapper .tags-view-item[data-v-fac8ca64]:first-of-type{margin-left:15px}.tags-view-container .tags-view-wrapper .tags-view-item[data-v-fac8ca64]:last-of-type{margin-right:15px}.tags-view-container .tags-view-wrapper .tags-view-item.active[data-v-fac8ca64]{color:#fff;background-color:#42b983;border-color:#42b983}.tags-view-container .tags-view-wrapper .tags-view-item.active[data-v-fac8ca64]::before{position:relative;display:inline-block;width:8px;height:8px;margin-right:2px;background:#fff;border-radius:50%;content:""}.tags-view-container .contextmenu[data-v-fac8ca64]{position:absolute;z-index:3000;padding:5px 0;margin:0;font-size:12px;font-weight:400;color:#333;list-style-type:none;background:#fff;border-radius:4px;-webkit-box-shadow:2px 2px 3px 0 rgba(0,0,0,.3);box-shadow:2px 2px 3px 0 rgba(0,0,0,.3)}.tags-view-container .contextmenu li[data-v-fac8ca64]{padding:7px 16px;margin:0;cursor:pointer}.tags-view-container .contextmenu li[data-v-fac8ca64]:hover{background:#eee}',""]),t.default=n},18601:function(e,t,i){"use strict";i.r(t);var r=i(23645),n=i.n(r)()((function(e){return e[1]}));n.push([e.id,".tags-view-wrapper .tags-view-item .el-icon-close{width:16px;height:16px;text-align:center;vertical-align:2px;border-radius:50%;-webkit-transition:all .3s cubic-bezier(0.645, 0.045, 0.355, 1);transition:all .3s cubic-bezier(0.645, 0.045, 0.355, 1);-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tags-view-wrapper .tags-view-item .el-icon-close::before{display:inline-block;vertical-align:-3px;-webkit-transform:scale(0.6);transform:scale(0.6)}.tags-view-wrapper .tags-view-item .el-icon-close:hover{color:#fff;background-color:#b4bccc}",""]),t.default=n},31185:function(e,t,i){"use strict";i.r(t);var r=i(23645),n=i.n(r)()((function(e){return e[1]}));n.push([e.id,".app-wrapper[data-v-13877386]{position:relative;width:100%;height:100%;overflow:hidden}.app-wrapper.mobile.openSidebar[data-v-13877386]{position:fixed;top:0}.drawer-bg[data-v-13877386]{position:absolute;top:0;z-index:999;width:100%;height:100%;background:#000;opacity:.3}.hideSidebar .fixed-header[data-v-13877386]{width:calc(100% - 54px)}.main-container[data-v-13877386]{margin-left:20px;-webkit-transition:margin-left .28s;transition:margin-left .28s}",""]),t.default=n},70794:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return E}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-wrapper",class:e.classObj},["mobile"===e.device&&e.sidebar.opened?i("div",{staticClass:"drawer-bg",on:{click:e.handleClickOutside}}):e._e(),e._v(" "),i("Sidebar",{staticClass:"sidebar-container scrollStyle"}),e._v(" "),i("div",{staticClass:"main-container"},[i("Navbar"),e._v(" "),i("TagsView"),e._v(" "),i("AppMain")],1)],1)};r._withStripped=!0;var n=i(20629),a=i(24231),o=i(97582),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tags-view-container",attrs:{id:"tags-view-container"}},[i("ScrollPane",{ref:"scrollPane",staticClass:"tags-view-wrapper",on:{scroll:e.handleScroll}},e._l(e.visitedViews,(function(t){return i("router-link",{key:t.path,staticClass:"tags-view-item",class:e.isActive(t)?"active":"",attrs:{to:{path:t.path,query:t.query,fullPath:t.fullPath}},on:{mouseup:function(i){if("button"in i&&1!==i.button)return null;!e.isAffix(t)&&e.closeSelectedTag(t)}},nativeOn:{contextmenu:function(i){return i.preventDefault(),e.openMenu(t,i)}}},[e._v("\n      "+e._s(t.title)+"\n      "),e.isAffix(t)?e._e():i("span",{staticClass:"el-icon-close",on:{click:function(i){return i.preventDefault(),i.stopPropagation(),e.closeSelectedTag(t)}}})])})),1),e._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:e.left+"px",top:e.top+"px"}},[e.isAffix(e.selectedTag)?e._e():i("li",{on:{click:function(t){return e.closeSelectedTag(e.selectedTag)}}},[e._v("Close")]),e._v(" "),i("li",{on:{click:e.closeOthersTags}},[e._v("Close Others")]),e._v(" "),i("li",{on:{click:function(t){return e.closeAllTags(e.selectedTag)}}},[e._v("Close All")])])],1)};s._withStripped=!0;var l=function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-scrollbar",{ref:"scrollContainer",staticClass:"scroll-container",attrs:{vertical:!1},nativeOn:{wheel:function(t){return t.preventDefault(),e.handleScroll(t)}}},[e._t("default")],2)};function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}l._withStripped=!0;var u={name:"ScrollPane",data:function(){return{left:0}},computed:{scrollWrapper:function(){return this.$refs.scrollContainer.$refs.wrap}},mounted:function(){this.scrollWrapper.addEventListener("scroll",this.emitScroll,!0)},beforeDestroy:function(){this.scrollWrapper.removeEventListener("scroll",this.emitScroll)},methods:{handleScroll:function(e){var t=e.wheelDelta||40*-e.deltaY,i=this.scrollWrapper;i.scrollLeft=i.scrollLeft+t/4},emitScroll:function(){this.$emit("scroll")},moveToTarget:function(e){var t,i=this.$refs.scrollContainer.$el.offsetWidth,r=this.scrollWrapper,n=document.getElementsByClassName("tags-view-item"),a=null,o=null;if(n.length>0&&(a=n[0],o=n[n.length-1]),a===e)r.scrollLeft=0;else if(o===e)r.scrollLeft=r.scrollWidth-i;else{var s=(t=n,function(e){if(Array.isArray(e))return c(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).findIndex((function(t){return t===e})),l=n[s-1],u=n[s+1],f=u.offsetLeft+u.offsetWidth+4,d=l.offsetLeft-4;f>r.scrollLeft+i?r.scrollLeft=f-i:d<r.scrollLeft&&(r.scrollLeft=d)}}}},f=(i(29173),i(51900)),d=(0,f.Z)(u,l,[],!1,null,"be6b7bae",null);d.options.__file="src/layout/components/TagsView/ScrollPane.vue";var p=d.exports,h=i(26470),v=i.n(h);function b(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return m(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function w(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?w(Object(i),!0).forEach((function(t){x(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function x(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _={components:{ScrollPane:p},data:function(){return{visible:!1,top:0,left:0,selectedTag:{},affixTags:[]}},computed:{visitedViews:function(){return this.$store.state.tagsView.visitedViews},routes:function(){return this.$store.state.permission.routes}},watch:{$route:function(e){this.addTags(),this.moveToCurrentTag(e)},visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.initTags(),this.addTags()},methods:{isActive:function(e){return e.path===this.$route.path},isAffix:function(e){return e.meta&&e.meta.affix},filterAffixTags:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",r=[];return e.forEach((function(e){if(e.meta&&e.meta.affix){var n=v().resolve(i,e.path);r.push({fullPath:n,path:n,name:e.name,meta:y({},e.meta)})}if(e.children){var a=t.filterAffixTags(e.children,e.path);a.length>=1&&(r=[].concat(b(r),b(a)))}})),r},initTags:function(){var e,t=function(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=g(e))){i&&(e=i);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}(this.affixTags=this.filterAffixTags(this.routes));try{for(t.s();!(e=t.n()).done;){var i=e.value;i.name&&this.$store.dispatch("tagsView/addVisitedView",i)}}catch(e){t.e(e)}finally{t.f()}},addTags:function(){return this.$route.name&&this.$store.dispatch("tagsView/addView",this.$route),!1},moveToCurrentTag:function(e){var t=this;this.$nextTick((function(){for(var i=t.visitedViews,r=document.getElementsByClassName("tags-view-item"),n=0,a=i.length;n<a;n++)if(i[n].path===e.path){t.$refs.scrollPane.moveToTarget(r[n]),i[n].fullPath!==t.$route.fullPath&&t.$store.dispatch("tagsView/updateVisitedView",t.$route);break}}))},closeSelectedTag:function(e){var t=this;this.$store.dispatch("tagsView/delView",e).then((function(i){var r=i.visitedViews;t.isActive(e)&&t.toLastView(r)}))},closeOthersTags:function(){var e=this;this.$router.push(this.selectedTag),this.$store.dispatch("tagsView/delOthersViews",this.selectedTag).then((function(){e.moveToCurrentTag(e.selectedTag)}))},closeAllTags:function(e){var t=this;this.$store.dispatch("tagsView/delAllViews").then((function(i){var r=i.visitedViews;t.affixTags.some((function(t){return t.path===e.path}))||t.toLastView(r)}))},toLastView:function(e){var t=e.slice(-1)[0];t?this.$router.push(t.fullPath):this.$router.push("/")},openMenu:function(e,t){var i=this.$el.getBoundingClientRect().left,r=this.$el.offsetWidth-105,n=t.clientX-i+15;this.left=n>r?r:n,this.top=t.clientY,this.visible=!0,this.selectedTag=e},closeMenu:function(){this.visible=!1},handleScroll:function(){this.closeMenu()}}},O=(i(74434),i(98139),(0,f.Z)(_,s,[],!1,null,"fac8ca64",null));O.options.__file="src/layout/components/TagsView/index.vue";var S=O.exports,T=i(30439),$=i(34362),A=document.body,k={watch:{$route:function(e){"mobile"===this.device&&this.sidebar.opened&&$.Z.dispatch("app/closeSideBar",{withoutAnimation:!1})}},beforeMount:function(){window.addEventListener("resize",this.$_resizeHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.$_resizeHandler)},mounted:function(){this.$_isMobile()&&($.Z.dispatch("app/toggleDevice","mobile"),$.Z.dispatch("app/closeSideBar",{withoutAnimation:!0}))},methods:{$_isMobile:function(){return A.getBoundingClientRect().width-1<992},$_resizeHandler:function(){if(!document.hidden){var e=this.$_isMobile();$.Z.dispatch("app/toggleDevice",e?"mobile":"desktop"),e&&$.Z.dispatch("app/closeSideBar",{withoutAnimation:!0})}}}};function j(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function P(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach((function(t){C(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function C(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var V={name:"Layout",components:{Navbar:a.Z,Sidebar:o.Z,AppMain:T.Z,TagsView:S},mixins:[k],computed:P(P({},(0,n.rn)({sidebar:function(e){return e.app.sidebar},device:function(e){return e.app.device}})),{},{classObj:function(){return{hideSidebar:!this.sidebar.opened,openSidebar:this.sidebar.opened,withoutAnimation:this.sidebar.withoutAnimation,mobile:"mobile"===this.device}}}),methods:{handleClickOutside:function(){this.$store.dispatch("app/closeSideBar",{withoutAnimation:!1})}}},L=(i(72768),(0,f.Z)(V,r,[],!1,null,"13877386",null));L.options.__file="src/layout/index.vue";var E=L.exports}}]);
//# sourceMappingURL=794.625c6f.js.map
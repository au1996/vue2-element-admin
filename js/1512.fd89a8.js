(self.webpackChunkvue2_element_admin=self.webpackChunkvue2_element_admin||[]).push([[1512],{96651:function(e,t,i){var r=i(41368);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,i(45346).Z)("bd0e561c",r,!1,{})},29173:function(e,t,i){var r=i(27583);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,i(45346).Z)("92339b44",r,!1,{})},74434:function(e,t,i){var r=i(78516);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,i(45346).Z)("16bf162e",r,!1,{})},98139:function(e,t,i){var r=i(18601);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,i(45346).Z)("8cb8859c",r,!1,{})},72768:function(e,t,i){var r=i(31185);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,i(45346).Z)("88acc816",r,!1,{})},41368:function(e,t,i){"use strict";i.r(t);var r=i(23645),n=i.n(r)()((function(e){return e[1]}));n.push([e.id,".logo[data-v-33ec43fc]{position:absolute;top:0;display:flex;width:100%;height:50px;overflow:hidden;text-align:center;cursor:pointer;background-color:#2b2f3a;justify-content:center;align-items:center}.logo .logoImg[data-v-33ec43fc]{width:32px;height:32px}.logo .logoText[data-v-33ec43fc]{display:inline-block;height:50px;margin-left:12px;font-size:14px;line-height:50px;color:#fff}",""]),t.default=n},27583:function(e,t,i){"use strict";i.r(t);var r=i(23645),n=i.n(r)()((function(e){return e[1]}));n.push([e.id,".scroll-container[data-v-be6b7bae]{position:relative;width:100%;overflow:hidden;white-space:nowrap}.scroll-container[data-v-be6b7bae]  .el-scrollbar__bar{bottom:0}.scroll-container[data-v-be6b7bae]  .el-scrollbar__wrap{height:49px}",""]),t.default=n},78516:function(e,t,i){"use strict";i.r(t);var r=i(23645),n=i.n(r)()((function(e){return e[1]}));n.push([e.id,'.tags-view-container[data-v-fac8ca64]{width:100%;height:34px;background:#fff;border-bottom:1px solid #d8dce5;box-shadow:0 1px 3px 0 rgba(0,0,0,.12),0 0 3px 0 rgba(0,0,0,.04)}.tags-view-container .tags-view-wrapper .tags-view-item[data-v-fac8ca64]{position:relative;display:inline-block;height:26px;padding:0 8px;margin-top:4px;margin-left:5px;font-size:12px;line-height:26px;color:#495060;cursor:pointer;background:#fff;border:1px solid #d8dce5}.tags-view-container .tags-view-wrapper .tags-view-item[data-v-fac8ca64]:first-of-type{margin-left:15px}.tags-view-container .tags-view-wrapper .tags-view-item[data-v-fac8ca64]:last-of-type{margin-right:15px}.tags-view-container .tags-view-wrapper .tags-view-item.active[data-v-fac8ca64]{color:#fff;background-color:#42b983;border-color:#42b983}.tags-view-container .tags-view-wrapper .tags-view-item.active[data-v-fac8ca64]::before{position:relative;display:inline-block;width:8px;height:8px;margin-right:2px;background:#fff;border-radius:50%;content:""}.tags-view-container .contextmenu[data-v-fac8ca64]{position:absolute;z-index:3000;padding:5px 0;margin:0;font-size:12px;font-weight:400;color:#333;list-style-type:none;background:#fff;border-radius:4px;box-shadow:2px 2px 3px 0 rgba(0,0,0,.3)}.tags-view-container .contextmenu li[data-v-fac8ca64]{padding:7px 16px;margin:0;cursor:pointer}.tags-view-container .contextmenu li[data-v-fac8ca64]:hover{background:#eee}',""]),t.default=n},18601:function(e,t,i){"use strict";i.r(t);var r=i(23645),n=i.n(r)()((function(e){return e[1]}));n.push([e.id,".tags-view-wrapper .tags-view-item .el-icon-close{width:16px;height:16px;text-align:center;vertical-align:2px;border-radius:50%;transition:all .3s cubic-bezier(0.645, 0.045, 0.355, 1);transform-origin:100% 50%}.tags-view-wrapper .tags-view-item .el-icon-close::before{display:inline-block;vertical-align:-3px;transform:scale(0.6)}.tags-view-wrapper .tags-view-item .el-icon-close:hover{color:#fff;background-color:#b4bccc}",""]),t.default=n},31185:function(e,t,i){"use strict";i.r(t);var r=i(23645),n=i.n(r)()((function(e){return e[1]}));n.push([e.id,".app-wrapper[data-v-13877386]{position:relative;width:100%;height:100%;overflow:hidden}.app-wrapper.mobile.openSidebar[data-v-13877386]{position:fixed;top:0}.drawer-bg[data-v-13877386]{position:absolute;top:0;z-index:999;width:100%;height:100%;background:#000;opacity:.3}.hideSidebar .fixed-header[data-v-13877386]{width:calc(100% - 54px)}.main-container[data-v-13877386]{margin-left:20px;transition:margin-left .28s}",""]),t.default=n},51512:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return q}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-wrapper",class:e.classObj},["mobile"===e.device&&e.sidebar.opened?i("div",{staticClass:"drawer-bg",on:{click:e.handleClickOutside}}):e._e(),e._v(" "),i("Sidebar",{staticClass:"sidebar-container scrollStyle"}),e._v(" "),i("div",{staticClass:"main-container"},[i("Navbar"),e._v(" "),i("TagsView"),e._v(" "),i("AppMain")],1)],1)};r._withStripped=!0;var n=i(20629),o=i(79542),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sidebar-container"},[r("div",{staticClass:"logo",on:{click:function(t){return e.$router.push("/")}}},[r("img",{staticClass:"logoImg",attrs:{src:i(77518),alt:"logo"}}),e._v(" "),r("transition",{attrs:{name:"el-zoom-in-center"}},[r("h1",{directives:[{name:"show",rawName:"v-show",value:e.sidebar.opened,expression:"sidebar.opened"}],staticClass:"logoText"},[e._v("Vue Element Admin")])])],1),e._v(" "),r("el-scrollbar",{attrs:{"wrap-class":"scrollbar-wrapper"}},[r("el-menu",{attrs:{router:!0,"default-active":e.$route.path,collapse:e.isCollapse,"show-timeout":200,"text-color":"#fff","background-color":"#4a5a74","active-text-color":"#409EFF"}},e._l(e.routers,(function(e){return r("SidebarItem",{key:e.path,attrs:{index:e.path,item:e}})})),1)],1)],1)};a._withStripped=!0;var s=i(92825),l=i(61252),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.meta&&!e.item.hide?i("div",[i("div",{staticClass:"menu-wrapper"},[e.item.children?i("el-submenu",{attrs:{index:e.item.path}},[i("template",{slot:"title"},[e.item.meta.icon?i("svg-icon",{attrs:{"icon-class":e.item.meta.icon}}):e._e(),e._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.item.meta.title))])],1),e._v(" "),e._l(e.item.children,(function(t){return[t.children&&t.children.length>0?i("sidebar-item",{key:t.path,staticClass:"nest-menu",attrs:{index:t.path,"is-nest":!0,item:t}}):i("el-menu-item",{key:t.path,attrs:{index:t.path}},[t.meta.icon?i("svg-icon",{attrs:{"icon-class":t.meta.icon}}):e._e(),e._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.meta.title))])],1)]}))],2):i("el-menu-item",{class:{"submenu-title-noDropdown":!e.isNest},attrs:{index:e.item.path}},[e.item.meta.icon?i("svg-icon",{attrs:{"icon-class":e.item.meta.icon}}):e._e(),e._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.item.meta.title))])],1)],1)]):e._e()};c._withStripped=!0;var u=i(26470),f=i.n(u),d={name:"SidebarItem",props:{item:{type:Object,required:!0},isNest:{type:Boolean,default:!1},basePath:{type:String,default:""}},data:function(){return{onlyOneChild:null}},methods:{hasOneShowingChild:function(e){var t=this;return 1===e.filter((function(e){return t.onlyOneChild=e,!0})).length},resolvePath:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return f().resolve.apply(f(),[this.basePath].concat(t))}}},p=d,h=i(51900),v=(0,h.Z)(p,c,[],!1,null,"2d2bbdc2",null);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}v.options.__file="src/layout/components/Sidebar/SidebarItem.vue";var b={components:{SidebarItem:v.exports},data:function(){return{roles:"",routers:[]}},computed:{sidebar:function(){return this.$store.state.app.sidebar},isCollapse:function(){return!this.sidebar.opened}},mounted:function(){this.routers=this.filterRoutes()},methods:{filterRoutes:function(){this.roles=(0,l.F3)();var e=[];s.WC.forEach((function(t){var i;"/"===t.path&&e.push.apply(e,function(e){if(Array.isArray(e))return m(e)}(i=t.children)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?m(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}));for(var t=0;t<e.length;t++)e[t].meta&&e[t].meta.roles&&!e[t].meta.roles.includes(this.roles)&&(e.splice(t,1),t--);return this.filterChildrens(e),e},filterChildrens:function(e){var t=this,i=[];e.forEach((function(e){(e.meta&&!e.meta.roles||e.meta&&e.meta.roles&&e.meta.roles.includes(t.roles))&&(i.push(e),e.children&&t.filterChildrens(e.children))})),e.length=0,e.push.apply(e,i)}}},g=(i(96651),(0,h.Z)(b,a,[],!1,null,"33ec43fc",null));g.options.__file="src/layout/components/Sidebar/index.vue";var w=g.exports,y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tags-view-container",attrs:{id:"tags-view-container"}},[i("ScrollPane",{ref:"scrollPane",staticClass:"tags-view-wrapper",on:{scroll:e.handleScroll}},e._l(e.visitedViews,(function(t){return i("router-link",{key:t.path,staticClass:"tags-view-item",class:e.isActive(t)?"active":"",attrs:{to:{path:t.path,query:t.query,fullPath:t.fullPath}},on:{mouseup:function(i){if("button"in i&&1!==i.button)return null;!e.isAffix(t)&&e.closeSelectedTag(t)}},nativeOn:{contextmenu:function(i){return i.preventDefault(),e.openMenu(t,i)}}},[e._v("\n      "+e._s(t.title)+"\n      "),e.isAffix(t)?e._e():i("span",{staticClass:"el-icon-close",on:{click:function(i){return i.preventDefault(),i.stopPropagation(),e.closeSelectedTag(t)}}})])})),1),e._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:e.left+"px",top:e.top+"px"}},[e.isAffix(e.selectedTag)?e._e():i("li",{on:{click:function(t){return e.closeSelectedTag(e.selectedTag)}}},[e._v("Close")]),e._v(" "),i("li",{on:{click:e.closeOthersTags}},[e._v("Close Others")]),e._v(" "),i("li",{on:{click:function(t){return e.closeAllTags(e.selectedTag)}}},[e._v("Close All")])])],1)};y._withStripped=!0;var x=function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-scrollbar",{ref:"scrollContainer",staticClass:"scroll-container",attrs:{vertical:!1},nativeOn:{wheel:function(t){return t.preventDefault(),e.handleScroll(t)}}},[e._t("default")],2)};function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}x._withStripped=!0;var S={name:"ScrollPane",data:function(){return{left:0}},computed:{scrollWrapper:function(){return this.$refs.scrollContainer.$refs.wrap}},mounted:function(){this.scrollWrapper.addEventListener("scroll",this.emitScroll,!0)},beforeDestroy:function(){this.scrollWrapper.removeEventListener("scroll",this.emitScroll)},methods:{handleScroll:function(e){var t=e.wheelDelta||40*-e.deltaY,i=this.scrollWrapper;i.scrollLeft=i.scrollLeft+t/4},emitScroll:function(){this.$emit("scroll")},moveToTarget:function(e){var t,i=this.$refs.scrollContainer.$el.offsetWidth,r=this.scrollWrapper,n=document.getElementsByClassName("tags-view-item"),o=null,a=null;if(n.length>0&&(o=n[0],a=n[n.length-1]),o===e)r.scrollLeft=0;else if(a===e)r.scrollLeft=r.scrollWidth-i;else{var s=(t=n,function(e){if(Array.isArray(e))return _(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).findIndex((function(t){return t===e})),l=n[s-1],c=n[s+1],u=c.offsetLeft+c.offsetWidth+4,f=l.offsetLeft-4;u>r.scrollLeft+i?r.scrollLeft=u-i:f<r.scrollLeft&&(r.scrollLeft=f)}}}},O=(i(29173),(0,h.Z)(S,x,[],!1,null,"be6b7bae",null));function T(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return C(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function $(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function j(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?$(Object(i),!0).forEach((function(t){k(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function k(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}O.options.__file="src/layout/components/TagsView/ScrollPane.vue";var P={components:{ScrollPane:O.exports},data:function(){return{visible:!1,top:0,left:0,selectedTag:{},affixTags:[]}},computed:{visitedViews:function(){return this.$store.state.tagsView.visitedViews},routes:function(){return this.$store.state.permission.routes}},watch:{$route:function(e){this.addTags(),this.moveToCurrentTag(e)},visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.initTags(),this.addTags()},methods:{isActive:function(e){return e.path===this.$route.path},isAffix:function(e){return e.meta&&e.meta.affix},filterAffixTags:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",r=[];return e.forEach((function(e){if(e.meta&&e.meta.affix){var n=f().resolve(i,e.path);r.push({fullPath:n,path:n,name:e.name,meta:j({},e.meta)})}if(e.children){var o=t.filterAffixTags(e.children,e.path);o.length>=1&&(r=[].concat(T(r),T(o)))}})),r},initTags:function(){var e,t=function(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=A(e))){i&&(e=i);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}(this.affixTags=this.filterAffixTags(this.routes));try{for(t.s();!(e=t.n()).done;){var i=e.value;i.name&&this.$store.dispatch("tagsView/addVisitedView",i)}}catch(e){t.e(e)}finally{t.f()}},addTags:function(){return this.$route.name&&this.$store.dispatch("tagsView/addView",this.$route),!1},moveToCurrentTag:function(e){var t=this;this.$nextTick((function(){for(var i=t.visitedViews,r=document.getElementsByClassName("tags-view-item"),n=0,o=i.length;n<o;n++)if(i[n].path===e.path){t.$refs.scrollPane.moveToTarget(r[n]),i[n].fullPath!==t.$route.fullPath&&t.$store.dispatch("tagsView/updateVisitedView",t.$route);break}}))},closeSelectedTag:function(e){var t=this;this.$store.dispatch("tagsView/delView",e).then((function(i){var r=i.visitedViews;t.isActive(e)&&t.toLastView(r)}))},closeOthersTags:function(){var e=this;this.$router.push(this.selectedTag),this.$store.dispatch("tagsView/delOthersViews",this.selectedTag).then((function(){e.moveToCurrentTag(e.selectedTag)}))},closeAllTags:function(e){var t=this;this.$store.dispatch("tagsView/delAllViews").then((function(i){var r=i.visitedViews;t.affixTags.some((function(t){return t.path===e.path}))||t.toLastView(r)}))},toLastView:function(e){var t=e.slice(-1)[0];t?this.$router.push(t.fullPath):this.$router.push("/")},openMenu:function(e,t){var i=this.$el.getBoundingClientRect().left,r=this.$el.offsetWidth-105,n=t.clientX-i+15;this.left=n>r?r:n,this.top=t.clientY,this.visible=!0,this.selectedTag=e},closeMenu:function(){this.visible=!1},handleScroll:function(){this.closeMenu()}}},V=P,E=(i(74434),i(98139),(0,h.Z)(V,y,[],!1,null,"fac8ca64",null));E.options.__file="src/layout/components/TagsView/index.vue";var L=E.exports,M=i(18787),I=i(84411),D=document.body,Z={watch:{$route:function(e){"mobile"===this.device&&this.sidebar.opened&&I.Z.dispatch("app/closeSideBar",{withoutAnimation:!1})}},beforeMount:function(){window.addEventListener("resize",this.$_resizeHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.$_resizeHandler)},mounted:function(){this.$_isMobile()&&(I.Z.dispatch("app/toggleDevice","mobile"),I.Z.dispatch("app/closeSideBar",{withoutAnimation:!0}))},methods:{$_isMobile:function(){return D.getBoundingClientRect().width-1<992},$_resizeHandler:function(){if(!document.hidden){var e=this.$_isMobile();I.Z.dispatch("app/toggleDevice",e?"mobile":"desktop"),e&&I.Z.dispatch("app/closeSideBar",{withoutAnimation:!0})}}}};function z(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function W(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?z(Object(i),!0).forEach((function(t){B(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):z(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function B(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var N={name:"Layout",components:{Navbar:o.Z,Sidebar:w,AppMain:M.Z,TagsView:L},mixins:[Z],computed:W(W({},(0,n.rn)({sidebar:function(e){return e.app.sidebar},device:function(e){return e.app.device}})),{},{classObj:function(){return{hideSidebar:!this.sidebar.opened,openSidebar:this.sidebar.opened,withoutAnimation:this.sidebar.withoutAnimation,mobile:"mobile"===this.device}}}),methods:{handleClickOutside:function(){this.$store.dispatch("app/closeSideBar",{withoutAnimation:!1})}}},R=(i(72768),(0,h.Z)(N,r,[],!1,null,"13877386",null));R.options.__file="src/layout/index.vue";var q=R.exports}}]);
//# sourceMappingURL=1512.fd89a8.js.map